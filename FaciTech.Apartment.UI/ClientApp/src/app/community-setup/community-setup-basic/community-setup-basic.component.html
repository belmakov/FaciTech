<div style="height:5px">
  <div *ngIf="loading">
    <mat-progress-bar [mode]="progress"></mat-progress-bar>
  </div>
</div>
<mat-card class="mat-elevation-z4">
  <mat-card-header>
    <mat-card-title>Basic Info</mat-card-title>
  </mat-card-header>
  <mat-card-content [formGroup]="basicInfoForm">
    <mat-grid-list cols="4" rowHeight="{{rowHeight}}">
      <mat-grid-tile colspan=2 rowspan=1>
        <mat-form-field class="column-2">
          <input matInput placeholder="Community Name" formControlName="name" maxlength="100" required>
          <mat-error *ngIf="basicInfoForm.get('name').hasError('required')">
            Community name is required, please specify community name.
          </mat-error>
        </mat-form-field>
      </mat-grid-tile>

      <mat-grid-tile colspan=2 rowspan=1>
        <mat-form-field class="column-2">
          <input matInput formControlName="builderName" placeholder="Builder Name" maxlength="100">
        </mat-form-field>
      </mat-grid-tile>

      <mat-grid-tile colspan=1 rowspan=1>
        <mat-form-field class="column-4">
          <mat-select placeholder="Country" formControlName="country" required (ngModelChange)="onCountryChange()">
            <mat-option *ngFor="let country of countries" [(value)]="country.id">
              {{country.name}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </mat-grid-tile>

      <mat-grid-tile colspan=1 rowspan=1>
        <mat-form-field class="column-4">
          <mat-select placeholder="City" formControlName="city" required (ngModelChange)="onCityChange()">
            <mat-option *ngFor="let city of cities" [value]="city.id">
              {{city.name}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </mat-grid-tile>

      <mat-grid-tile colspan=1 rowspan=1>
        <mat-form-field class="column-4">
          <mat-select placeholder="Area" formControlName="area" required (ngModelChange)="onAreaChange()">
            <mat-option *ngFor="let area of areas" [value]="area.id">
              {{area.name}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </mat-grid-tile>

      <mat-grid-tile colspan=1 rowspan=1>
        <mat-form-field class="column-4">
          <mat-select placeholder="Sub Area" required formControlName="subarea">
            <mat-option *ngFor="let subarea of subareas" [value]="subarea.id">
              {{subarea.name}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </mat-grid-tile>

      <mat-grid-tile colspan=2 rowspan=1>
        <mat-form-field class="column-2">
          <input matInput placeholder="Landmark" formControlName="landmark" maxlength="100">
        </mat-form-field>
      </mat-grid-tile>

      <mat-grid-tile colspan=2 rowspan=1>
        <mat-form-field class="column-2">
          <input matInput placeholder="Location map link" formControlName="locationLink" maxlength="500">
          <mat-error *ngIf="basicInfoForm.get('locationLink').hasError('pattern')">
            Invalid Url Format
          </mat-error>
        </mat-form-field>
      </mat-grid-tile>
    </mat-grid-list>

    <mat-grid-list cols="4" rowHeight="{{textAreaHeight}}">
      <mat-grid-tile colspan=2 rowspan=1>
        <mat-form-field class="column-2">
          <textarea matInput placeholder="Adress" formControlName="address" rows="5" maxlength="500"></textarea>
        </mat-form-field>
      </mat-grid-tile>
    </mat-grid-list>
  </mat-card-content>
  <mat-card-actions align="end">
    <button mat-raised-button color="primary" [disabled]="!basicInfoForm.valid" (click)="onSaveClick()">Save</button>
  </mat-card-actions>

</mat-card>

